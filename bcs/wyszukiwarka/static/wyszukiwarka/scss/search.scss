// =====================
// Variables â€” Unified Dark Palette
// =====================
$color-bg: #1e1e1e;            // shared dark background
$color-text-muted: #d0d6e0;    // light-muted text
$color-field: #9fb4cc;         // soft blue-gray accent for field names
$color-green: #6fcf97;         // match highlight (success)
$color-gold: #e0c75e;          // warm near-match
$color-accent: #58a6ff;      // accent blue (consistent with previous)
$color-category: #f5dd5d;
$color-border: #444;           // subtle border tone
$color-toggle: #999;           // secondary gray for indicators


// =====================
// Mixins
// =====================
@mixin reset-list {
  list-style: none;
  margin: 0;
  padding: 0;
}

// =====================
// Search Component
// =====================
.search {
  background: $color-bg;
  color: $color-text-muted;

  // ===== Results Container =====
  &__results {
    @include reset-list;
  }

  // ===== Each Result Item =====
  &__item {
    margin-bottom: 1em;
    padding-bottom: 0.8em;
    border-bottom: 1px solid rgba($color-border, 0.6);

    .search__snippet {
      font-size: 0.95em;
      line-height: 1.4;
      color: $color-text-muted;
    }

    .search__field {
      font-style: italic;
      font-weight: 500;
      color: $color-field;
    }

    .search__query-match {
      font-weight: bold;
      color: $color-green;
      text-shadow: 0 0 4px rgba($color-green, 0.4);
    }

    .search__near-match {
      color: $color-gold;
      text-shadow: 0 0 4px rgba($color-gold, 0.3);
    }
  }

  // ===== Category Section =====
  &__category {
    font-size: 1.3rem;
    margin-top: 1.5rem;
    font-weight: bold;
    color: $color-category;
    border-bottom: 2px solid $color-border;
    padding-bottom: 0.2rem;
    text-shadow: 0 0 6px rgba($color-category, 0.3);
  }

  &__category-list {
    @include reset-list;

    li {
      padding: 0.4rem 0;
    }
  }

  // ===== App Section =====
  &__app {
    &-name {
      cursor: pointer;
      user-select: none;
      margin-top: 1.5rem;
      color: $color-text-muted;
      transition: color 0.2s ease;

      &:hover {
        color: lighten($color-accent, 10%);
      }
    }

    &-indicator {
      font-weight: normal;
      margin-left: 0.5rem;
      color: $color-toggle;
    }

    &-results {
      display: none; // collapsible
    }

    &--open {
      & > .search__app-results {
        display: block;
      }
    }
  }
}

a {
  color: $color-accent;
  text-decoration: none;

  &:visited {
    color: $color-accent; // same as normal links
  }

  &:hover {
    color: lighten($color-accent, 10%);
    text-decoration: underline;
  }
}

