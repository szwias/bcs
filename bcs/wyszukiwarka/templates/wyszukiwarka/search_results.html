{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Search</title>
    <link rel="stylesheet" href="{% static 'wyszukiwarka/search.css' %}">
</head>
<body>

<h1>Search</h1>

<form method="get" action="{% url 'wyszukiwarka:search' %}">
    <label>
        <input type="text" name="q" value="{{ query }}" placeholder="Search...">
    </label>
    <button type="submit">Search</button>
</form>

{% if query %}
    <h2>Results for "{{ query }}"</h2>
    {% if results_by_type %}
    {% for type_name, type_results in results_by_type.items %}
      <h3 class="result-category">{{ type_name|title }}</h3>
      <ul class="result-list">
        {% for result in type_results %}
          <li>
            <a href="{{ result.admin_url }}"><strong>{{ result.title }}</strong></a><br>
            {{ result.snippet|safe }}
          </li>
        {% endfor %}
      </ul>
    {% endfor %}
  {% else %}
    <p>No results found.</p>
  {% endif %}
{% endif %}

</body>
</html>
